# chrono

<chrono> æ˜¯ C++11 å¼•å…¥çš„æ—¶é—´å¤„ç†æ ‡å‡†åº“ï¼Œç”¨äºå¤„ç†æ—¶é—´ç‚¹ï¼ˆtime pointï¼‰ã€**æ—¶é—´æ®µï¼ˆdurationï¼‰å’Œå®šæ—¶å™¨ï¼ˆclockï¼‰**ç­‰åŠŸèƒ½ï¼Œæ›¿ä»£äº†è€æ—§çš„ C é£æ ¼æ—¶é—´å‡½æ•°ã€‚


ğŸ§  åŸºæœ¬æ¦‚å¿µ
1. durationï¼ˆæŒç»­æ—¶é—´ï¼‰
è¡¨ç¤ºä¸€æ®µæ—¶é—´ï¼Œæ¯”å¦‚â€œ5ç§’â€æˆ–â€œ10æ¯«ç§’â€ã€‚

```c++
std::chrono::seconds sec(5);           // 5 ç§’
std::chrono::milliseconds ms(500);     // 500 æ¯«ç§’
std::chrono::microseconds us(100);     // 100 å¾®ç§’
```

ä½ ä¹Ÿå¯ä»¥ä»ä¸€ä¸ªå•ä½è½¬æ¢æˆå¦ä¸€ä¸ªå•ä½ï¼š

```c++
auto ms = std::chrono::milliseconds(1500);
auto sec = std::chrono::duration_cast<std::chrono::seconds>(ms);  // 1 ç§’
```

2. time_pointï¼ˆæ—¶é—´ç‚¹ï¼‰

è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ—¶é—´ç‚¹ï¼Œæ¯”å¦‚â€œç°åœ¨â€æˆ–â€œæŸä¸ªæ—¶é—´ä¹‹åâ€ã€‚

```c++
auto now = std::chrono::system_clock::now();  // å½“å‰æ—¶é—´ç‚¹
```

ä½ å¯ä»¥æŠŠä¸¤ä¸ª time_point ç›¸å‡ï¼Œå¾—åˆ°ä¸€ä¸ª durationï¼š

```c++
// std::chrono::steady_clock::time_point start = std::chrono::steady_clock::now();

auto start = std::chrono::steady_clock::now();
// ... åšç‚¹ä»€ä¹ˆ
auto end = std::chrono::steady_clock::now();
auto diff = end - start;

std::cout << "è€—æ—¶(ms): "
          << std::chrono::duration_cast<std::chrono::milliseconds>(diff).count()
          << " ms" << std::endl;

```

3. clockï¼ˆæ—¶é’Ÿï¼‰

chrono æä¾›ä¸‰ç§å¸¸ç”¨æ—¶é’Ÿç±»å‹ï¼š

æ—¶é’Ÿç±»å‹	                 è¯´æ˜
std::chrono::system_clock	å¯ä»¥å’Œç³»ç»Ÿæ—¶é—´äº’è½¬ã€‚å¯ä»¥è½¬æ¢ä¸º time_tï¼Œç”¨äºæ˜¾ç¤ºäººç±»å¯è¯»æ—¶é—´ã€‚
std::chrono::steady_clock	å•è°ƒæ—¶é’Ÿï¼Œä¸å—ç³»ç»Ÿæ—¶é—´å˜åŠ¨å½±å“ï¼Œé€‚åˆç”¨äºè®¡æ—¶ï¼ˆæ¨èç”¨å®ƒæ¥æµ‹æ€§èƒ½ï¼‰
std::chrono::high_resolution_clock	ç²¾åº¦æœ€é«˜çš„æ—¶é’Ÿï¼ˆåº•å±‚å¯èƒ½æ˜¯ steady_clock æˆ– system_clockï¼‰


âœ… ç¤ºä¾‹ï¼šè®¡æ—¶å™¨

```c++
#include <iostream>
#include <chrono>
#include <thread>

int main() {
    auto start = std::chrono::steady_clock::now();

    std::this_thread::sleep_for(std::chrono::milliseconds(500));  // æ¨¡æ‹Ÿè€—æ—¶

    auto end = std::chrono::steady_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(end - start);

    std::cout << "è¿è¡Œæ—¶é—´: " << duration.count() << " ms\n";

    return 0;
}
```

ğŸ›  å¸¸ç”¨å·¥å…·å‡½æ•°
å»¶è¿Ÿï¼š

```c++
std::this_thread::sleep_for(std::chrono::seconds(1));
```

è·å–å½“å‰æ—¶é—´ï¼š
```cpp
auto now = std::chrono::system_clock::now();
std::time_t now_c = std::chrono::system_clock::to_time_t(now);
std::cout << std::ctime(&now_c);
```





