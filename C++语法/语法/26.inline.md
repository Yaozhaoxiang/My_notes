# inline
inline 是 C++ 关键字，用来提示编译器在编译时将函数的代码嵌入到每个调用点，而不是通过函数调用的方式执行。这可以减少函数调用的开销（如参数压栈、跳转等），从而提高代码的执行效率。通常适用于短小且频繁调用的函数。


## inline 函数的特点
1. 减少函数调用开销：通常情况下，函数调用会有额外的开销，比如参数压栈、跳转指令和返回地址的保存等。使用 inline，编译器会将函数体直接嵌入到每个调用点，避免了函数调用的这些开销。

2. 适合小函数：inline 函数适合小且简单的函数。如果函数体较大，使用 inline 反而可能导致程序增大，因为函数体被重复嵌入多个调用点。

3. 编译器的建议：inline 只是对编译器的建议，编译器可以选择忽略，特别是在函数过于复杂时。

4. 减少函数调用栈深度：inline 可以避免深度的函数调用栈层级，但会增加代码的体积（代码膨胀）。

**如何使用 inline**
```cpp
inline int add(int a, int b) {
    return a + b;
}

int main() {
    int result = add(3, 4);  // 在这里，编译器可能会将 add(3, 4) 直接替换为 "3 + 4"
    return 0;
}

```

## inline 适用的场景
1. 类中的成员函数：
 + 类的成员函数如果在类定义中声明，默认会被认为是 inline 函数。
```cpp
class Test {
public:
    inline void display() {
        std::cout << "This is an inline function." << std::endl;
    }
};

```
2. 模板函数：
模板函数常常被作为 inline 函数处理，因为模板的定义和实现通常放在头文件中。


inline 的限制
 + 递归函数：编译器通常不会内联递归函数，因为递归会导致嵌套调用，无法直接展开。
 + 循环中的函数：如果函数体包含复杂的控制流结构，编译器可能会忽略 inline。
 + 虚函数：虚函数在运行时动态绑定，编译器无法确定具体的函数调用，因此虚函数通常不会被内联。




