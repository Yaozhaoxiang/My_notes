# Queue 

Java ä¸­çš„ Queue æ˜¯ä¸€ä¸ª**æ¥å£**ï¼Œè¡¨ç¤ºä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¸¸ç”¨æ¥å¤„ç†ä»»åŠ¡è°ƒåº¦ã€å¼‚æ­¥æ¶ˆæ¯ã€ç¼“å†²é˜Ÿåˆ—ç­‰åœºæ™¯ã€‚

ğŸ§± Queue çš„æ¥å£å®šä¹‰ï¼ˆä½äº java.util åŒ…ï¼‰
Java ä¸­çš„ Queue æ˜¯ä¸ªæ¥å£ï¼Œå®ƒç»§æ‰¿è‡ª Collectionï¼š

```java
public interface Queue<E> extends Collection<E>
```

ğŸ”‚ æ ¸å¿ƒæ“ä½œæ–¹æ³•ï¼ˆå’Œ C++ ç±»ä¼¼ä½†æ›´ç»†è‡´ï¼‰

æ–¹æ³• | åŠŸèƒ½ | å¼‚å¸¸æƒ…å†µ | æ›¿ä»£æ–¹æ³•
add(E e) | æ·»åŠ å…ƒç´  | é˜Ÿæ»¡æ—¶æŠ›å¼‚å¸¸ | offer(E e) è¿”å› false
remove() | ç§»é™¤é˜Ÿé¦– | é˜Ÿç©ºæ—¶æŠ›å¼‚å¸¸ | poll() è¿”å› null
element() | æŸ¥çœ‹é˜Ÿé¦– | é˜Ÿç©ºæ—¶æŠ›å¼‚å¸¸ | peek() è¿”å› null

æ³¨æ„ï¼šä¸è¦æŠŠnullæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¦åˆ™poll()æ–¹æ³•è¿”å›nullæ—¶ï¼Œå¾ˆéš¾ç¡®å®šæ˜¯å–åˆ°äº†nullå…ƒç´ è¿˜æ˜¯é˜Ÿåˆ—ä¸ºç©ºã€‚

âœ… æ¨èç”¨æ³•ï¼šoffer + poll + peekï¼ˆæ›´å®‰å…¨ï¼‰

```java
Queue<String> q = new LinkedList<>();
q.offer("A");
q.offer("B");
System.out.println(q.poll());  // A
System.out.println(q.peek());  // Bï¼ˆä½†ä¸ç§»é™¤ï¼‰
```

# PriorityQueue

ç”¨èµ·æ¥ç±»ä¼¼äº C++ çš„ std::priority_queueï¼Œä½†åŠŸèƒ½æ›´çµæ´»ã€é€‚ç”¨åœºæ™¯æ›´å¹¿

âœ… ä¸€å¥è¯æ€»ç»“
PriorityQueue æ˜¯ä¸€ä¸ª åŸºäºå †ç»“æ„çš„é˜Ÿåˆ—ï¼Œä¼šæŒ‰ç…§å…ƒç´ çš„ä¼˜å…ˆçº§ï¼ˆé»˜è®¤æ˜¯è‡ªç„¶é¡ºåºï¼‰è‡ªåŠ¨æ’åºï¼Œæ¯æ¬¡ poll() å‡ºæ¥çš„æ˜¯â€œä¼˜å…ˆçº§æœ€é«˜â€çš„å…ƒç´ ã€‚

ğŸ§± ç±»å®šä¹‰ï¼ˆJava é‡Œçš„ä½ç½®ï¼‰

```java
java.util.PriorityQueue<E>
```

å®ƒå®ç°äº† Queue æ¥å£ï¼Œä½†å¹¶ ä¸ä¿è¯ FIFO é¡ºåºï¼Œè€Œæ˜¯ä¿è¯ä¼˜å…ˆçº§é¡ºåºã€‚

ğŸ§  é»˜è®¤è¡Œä¸º

+ é»˜è®¤æŒ‰ æœ€å°å † æ’åºï¼ˆå³ï¼šå€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼‰ï¼›
+ å­˜å…¥çš„å…ƒç´ å¿…é¡»æ˜¯ Comparableï¼Œæˆ–è€…ä½ è¦è‡ªå·±ä¼ å…¥ä¸€ä¸ª Comparatorã€‚

ğŸ¯ å¸¸ç”¨æ–¹æ³•

æ–¹æ³•å | ä½œç”¨
offer(E e) | åŠ å…¥é˜Ÿåˆ—
poll() | å–å‡ºå¹¶ç§»é™¤æœ€å°ï¼ˆæˆ–æœ€é«˜ä¼˜å…ˆï¼‰å…ƒç´ 
peek() | åªæŸ¥çœ‹ä¸ç§»é™¤
size() | è·å–å¤§å°
isEmpty() | æ˜¯å¦ä¸ºç©º

âœï¸ ç¤ºä¾‹ï¼šé»˜è®¤çš„æœ€å°å †

```java
import java.util.PriorityQueue;

public class Main {
    public static void main(String[] args) {
        PriorityQueue<Integer> pq = new PriorityQueue<>();
        pq.offer(5);
        pq.offer(2);
        pq.offer(8);

        while (!pq.isEmpty()) {
            System.out.println(pq.poll()); // è¾“å‡ºé¡ºåºæ˜¯ï¼š2, 5, 8
        }
    }
}
```

ğŸ”„ è‡ªå®šä¹‰ä¼˜å…ˆçº§ï¼ˆå¦‚ï¼šé™åºï¼‰
```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        PriorityQueue<Integer> maxHeap = new PriorityQueue<>((a, b) -> b - a); // é™åº

        maxHeap.offer(10);
        maxHeap.offer(3);
        maxHeap.offer(7);

        while (!maxHeap.isEmpty()) {
            System.out.println(maxHeap.poll()); // è¾“å‡ºé¡ºåºï¼š10, 7, 3
        }
    }
}

Â·Â·Â·

ğŸŒŸ å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡
```java
class Task {
    int priority;
    String name;
    public Task(int priority, String name) {
        this.priority = priority;
        this.name = name;
    }
}

public class Main {
    public static void main(String[] args) {
        PriorityQueue<Task> pq = new PriorityQueue<>(Comparator.comparingInt(t -> t.priority));

        pq.offer(new Task(3, "ä½"));
        pq.offer(new Task(1, "é«˜"));
        pq.offer(new Task(2, "ä¸­"));

        while (!pq.isEmpty()) {
            System.out.println(pq.poll().name);  // è¾“å‡ºï¼šé«˜ -> ä¸­ -> ä½
        }
    }
}

```

ğŸ§© å†…éƒ¨åŸç†ç®€è¿°ï¼ˆå®ç°ç»“æ„ï¼‰

+ åº•å±‚æ˜¯ä¸€ä¸ª æœ€å°å †ï¼ˆç”¨æ•°ç»„å®ç°ï¼‰ï¼›
+ æ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼›
+ éå†æ—¶ ä¸èƒ½ä¿è¯æœ‰åºï¼Œä½† peek() / poll() æ€»æ˜¯è¿”å›æœ€å°å€¼ï¼ˆæˆ–ä½ è‡ªå®šä¹‰çš„æœ€ä¼˜å€¼ï¼‰ï¼›

ğŸ†š å’Œ C++ çš„ priority_queue å¯¹æ¯”

ç‰¹æ€§ | Java PriorityQueue | C++ std::priority_queue
é»˜è®¤é¡ºåº | æœ€å°å † | æœ€å¤§å †
è‡ªå®šä¹‰é¡ºåº | ä½¿ç”¨ Comparator | ä½¿ç”¨ä»¿å‡½æ•°æˆ– lambda
éå†é¡ºåº | ä¸ä¿è¯æœ‰åº | ä¸ä¿è¯æœ‰åº
åŸºç¡€ç»“æ„ | æœ€å°å †ï¼ˆæ•°ç»„ï¼‰ | æœ€å¤§å †ï¼ˆå †+å®¹å™¨ï¼‰
æ³›å‹ | ä½¿ç”¨æ³›å‹ï¼ˆç±»ï¼‰ | ä½¿ç”¨æ¨¡æ¿



















