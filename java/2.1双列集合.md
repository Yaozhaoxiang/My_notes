# åŒåˆ—é›†åˆ

![](./å›¾ç‰‡/java_98.png)

Java | C++ | è¯´æ˜
HashMap | unordered_map | å“ˆå¸Œè¡¨å®ç°ï¼Œé”®å€¼å¯¹å­˜å‚¨
TreeMap | map | çº¢é»‘æ ‘ï¼ˆæœ‰åºæ˜ å°„ï¼‰
HashSet | unordered_set | åŸºäºå“ˆå¸Œçš„é›†åˆ
TreeSet | set | æœ‰åºé›†åˆ
Queue / Deque | queue / deque | é˜Ÿåˆ—ç»“æ„


## 1.Map

ğŸ¯ ä¸€ã€ä»€ä¹ˆæ˜¯ Mapï¼Ÿ
Map<K, V> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç”¨æ¥å­˜å‚¨é”®å€¼å¯¹ï¼Œæ¯ä¸ª key å¯¹åº”ä¸€ä¸ª valueï¼Œä¸”ï¼š

+ key ä¸èƒ½é‡å¤ï¼ˆä½¿ç”¨ equals() å’Œ hashCode() åˆ¤æ–­ï¼‰
+ value å¯ä»¥é‡å¤
+ é€šè¿‡ key æ¥å¿«é€Ÿè·å–å¯¹åº”çš„ valueï¼ˆæŸ¥æ‰¾æ•ˆç‡é«˜ï¼‰


ğŸ§­ äºŒã€Map çš„å¸¸è§å®ç°ç±»å¯¹æ¯”

ç±»å | æ˜¯å¦æœ‰åº | æ˜¯å¦çº¿ç¨‹å®‰å…¨ | æ˜¯å¦å…è®¸ null | åº•å±‚ç»“æ„ | è¯´æ˜
HashMap | âŒ æ— åº | âŒ å¦ | âœ… å…è®¸ 1 ä¸ª null keyï¼Œå¤š null value | å“ˆå¸Œè¡¨ | æœ€å¸¸ç”¨ï¼ŒæŸ¥æ‰¾å¿«
LinkedHashMap | âœ… æ’å…¥é¡ºåº | âŒ å¦ | âœ… | å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨ | ç»´æŠ¤æ’å…¥é¡ºåº
TreeMap | âœ… æ’åºï¼ˆkeyï¼‰ | âŒ å¦ | âŒ key ä¸å…è®¸ null | çº¢é»‘æ ‘ | key æœ‰åº
Hashtable | âŒ æ— åº | âœ… æ˜¯ | âŒ | å“ˆå¸Œè¡¨ | çº¿ç¨‹å®‰å…¨ï¼Œè€ç‰ˆæœ¬
ConcurrentHashMap | âŒ æ— åº | âœ… æ˜¯ | âŒ | åˆ†æ®µé”å“ˆå¸Œè¡¨ | å¹¶å‘ä¸‹ä½¿ç”¨

ğŸ”§ ä¸‰ã€åŸºæœ¬ç”¨æ³•ï¼ˆä»¥ HashMap ä¸ºä¾‹ï¼‰

âœ… 1. æ·»åŠ å’Œè®¿é—®
```java
import java.util.*;

public class MapDemo {
    public static void main(String[] args) {
        Map<String, Integer> map = new HashMap<>();

        map.put("apple", 10);
        map.put("banana", 5);
        map.put("orange", 7);

        System.out.println(map.get("apple")); // è¾“å‡º 10
        System.out.println(map.containsKey("banana")); // true
        System.out.println(map.containsValue(7)); // true
    }
}

```

âœ… 2. éå† Map çš„ 3 ç§æ–¹å¼

ğŸ”¸æ–¹å¼1ï¼šéå† entrySet()ï¼ˆæ¨èï¼‰
```java
for (Map.Entry<String, Integer> entry : map.entrySet()) {
    System.out.println(entry.getKey() + " = " + entry.getValue());
}

```

ğŸ”¸æ–¹å¼2ï¼šåªéå† key
```java
for (String key : map.keySet()) {
    System.out.println(key + " -> " + map.get(key));
}
```

ğŸ”¸æ–¹å¼3ï¼šforEach + Lambda è¡¨è¾¾å¼ï¼ˆJava 8+ï¼‰
```java
map.forEach((key, value) -> System.out.println(key + ":" + value));

```


âœ¨ å››ã€å¸¸ç”¨æ–¹æ³•æ€»ç»“

æ–¹æ³• | åŠŸèƒ½
put(K, V) | æ·»åŠ /ä¿®æ”¹é”®å€¼å¯¹
get(K) | é€šè¿‡ key è·å– value
remove(K) | åˆ é™¤ key åŠå…¶ value
containsKey(K) | åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ª key
containsValue(V) | åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå€¼
keySet() | è·å–æ‰€æœ‰ keyï¼ˆè¿”å› Set<K>ï¼‰
values() | è·å–æ‰€æœ‰ valueï¼ˆè¿”å› Collection<V>ï¼‰
entrySet() | è·å–é”®å€¼å¯¹é›†åˆï¼ˆè¿”å› Set<Map.Entry<K,V>>ï¼‰
clear() | æ¸…ç©º map
size() | è·å–å¤§å°


ğŸ§  äº”ã€Map çš„åº•å±‚åŸç†ï¼ˆä»¥ HashMap ä¸ºä¾‹ï¼‰
ä½¿ç”¨æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ å®ç°ï¼ˆJDK 8 å¼€å§‹ä¼˜åŒ–ï¼‰

put() æ—¶å…ˆç®—å‡º key çš„ hashCode()ï¼Œå†å‹ç¼©æˆæ•°ç»„ä¸‹æ ‡ï¼Œå­˜æ”¾åœ¨å¯¹åº”æ¡¶ä¸­

å½“å†²çªè¾ƒå¤šæ—¶é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ä¼šè½¬ä¸ºçº¢é»‘æ ‘ï¼ˆä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ï¼‰

âš ï¸ å…­ã€Map ä¸­ä½¿ç”¨è‡ªå®šä¹‰å¯¹è±¡ä½œä¸º key æ—¶çš„æ³¨æ„äº‹é¡¹
å¦‚æœä½ ç”¨è‡ªå·±å®šä¹‰çš„ç±»ä½œä¸º Map çš„ keyï¼š

å¿…é¡»é‡å†™ equals() å’Œ hashCode() æ–¹æ³•ï¼

å¦åˆ™æ— æ³•æ­£ç¡®åˆ¤æ–­æ˜¯å¦â€œç›¸åŒ keyâ€ï¼Œä¼šå‡ºç°é‡å¤ key è¢«å½“æˆä¸åŒçš„ key æ’å…¥çš„æƒ…å†µã€‚

ğŸ§ª ä¸ƒã€ä¾‹å­ï¼šä½¿ç”¨å¯¹è±¡ä½œä¸º key
```java
class Student {
    String name;

    public Student(String name) {
        this.name = name;
    }

    @Override
    public boolean equals(Object obj) {
        if (obj instanceof Student s) {
            return name.equals(s.name);
        }
        return false;
    }

    @Override
    public int hashCode() {
        return name.hashCode(); // ç®€å•è¿”å› name çš„å“ˆå¸Œ
    }
}

// ä½¿ç”¨
Map<Student, Integer> map = new HashMap<>();
map.put(new Student("Tom"), 90);
map.put(new Student("Tom"), 95); // ä¼šè¦†ç›–å‰ä¸€ä¸ªï¼ˆå› ä¸º equals ç›¸ç­‰ï¼‰

System.out.println(map.size()); // è¾“å‡º 1

```


ğŸ§® å…«ã€ä¸ C++ çš„ map ç±»æ¯”

Java | C++ | è¯´æ˜
HashMap | unordered_map | åŸºäºå“ˆå¸Œè¡¨ï¼Œå¿«é€ŸæŸ¥æ‰¾
TreeMap | map | æœ‰åºï¼ŒåŸºäºçº¢é»‘æ ‘
ConcurrentHashMap | concurrent_unordered_mapï¼ˆC++ æ²¡æ ‡å‡†å®ç°ï¼‰ | å¹¶å‘çº¿ç¨‹å®‰å…¨


## 2. HashMap

åº•å±‚æ˜¯åŸºäº å“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ï¼‰ å®ç°çš„ã€‚

ğŸ§  äºŒã€HashMap çš„ç‰¹ç‚¹

ç‰¹æ€§ | æè¿°
é”®å”¯ä¸€ | ä¸èƒ½æœ‰é‡å¤ keyï¼Œä½¿ç”¨ equals() å’Œ hashCode() åˆ¤æ–­
å€¼å¯é‡å¤ | value æ²¡æœ‰å”¯ä¸€æ€§é™åˆ¶
å­˜å–æ•ˆç‡é«˜ | å¹³å‡æ—¶é—´å¤æ‚åº¦ O(1)
æ— åº | é»˜è®¤ä¸ä¿è¯æ’å…¥é¡ºåºï¼ˆé™¤éç”¨ LinkedHashMapï¼‰
å…è®¸ null | å…è®¸ä¸€ä¸ª null keyï¼Œå¤šä¸ª null value

ğŸ”§ ä¸‰ã€åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹

```java
import java.util.*;

public class Demo {
    public static void main(String[] args) {
        Map<String, Integer> map = new HashMap<>();

        map.put("apple", 3);
        map.put("banana", 5);
        map.put("apple", 6); // ä¼šè¦†ç›–æ—§å€¼

        System.out.println(map.get("apple"));   // 6
        System.out.println(map.containsKey("banana")); // true
        System.out.println(map.containsValue(5)); // true

        map.remove("banana");
        System.out.println(map); // {apple=6}
    }
}
```

ğŸ› ï¸ å››ã€å¸¸ç”¨ API ä¸€è§ˆ

æ–¹æ³• | è¯´æ˜
put(K, V) | æ’å…¥æˆ–æ›´æ–° key çš„ value
get(K) | è·å– key å¯¹åº”çš„ value
remove(K) | åˆ é™¤æŸä¸ª key åŠå…¶ value
containsKey(K) | æ˜¯å¦åŒ…å«è¯¥ key
containsValue(V) | æ˜¯å¦åŒ…å«è¯¥ value
size() | é”®å€¼å¯¹æ•°é‡
clear() | æ¸…ç©ºæ‰€æœ‰é”®å€¼å¯¹
isEmpty() | æ˜¯å¦ä¸ºç©º
keySet() | æ‰€æœ‰ keyï¼ˆSet<K>ï¼‰
values() | æ‰€æœ‰ valueï¼ˆCollection<V>ï¼‰
entrySet() | æ‰€æœ‰é”®å€¼å¯¹ï¼ˆSet<Map.Entry<K, V>>ï¼‰

ğŸ” äº”ã€éå†æ–¹å¼

ğŸ”¸ éå† entrySetï¼ˆæ¨èï¼‰
```java
for (Map.Entry<String, Integer> entry : map.entrySet()) {
    System.out.println(entry.getKey() + " = " + entry.getValue());
}
```

ğŸ”¸ éå† keySet + getï¼ˆä¸æ¨èï¼‰
```java
for (String key : map.keySet()) {
    System.out.println(key + " = " + map.get(key));
}
```
ğŸ”¸ Lambda è¡¨è¾¾å¼
```java
map.forEach((k, v) -> System.out.println(k + ":" + v));
```

ğŸ§± å…­ã€åº•å±‚ç»“æ„è¯¦è§£ï¼ˆJDK 8ï¼‰

HashMap çš„åº•å±‚æ•°æ®ç»“æ„ï¼š **æ•°ç»„ + é“¾è¡¨ï¼ˆå†²çªæ—¶ï¼‰+ çº¢é»‘æ ‘ï¼ˆå†²çªä¸¥é‡æ—¶ï¼‰**

put() æ“ä½œæµç¨‹ï¼š
1. è°ƒç”¨ hashCode() è®¡ç®— key çš„å“ˆå¸Œå€¼
2. é€šè¿‡ (n - 1) & hash ç®—å‡ºæ•°ç»„ä¸‹æ ‡ï¼ˆn æ˜¯æ•°ç»„é•¿åº¦ï¼‰
3. å¦‚æœè¯¥ä½ç½®æ˜¯ç©ºçš„ï¼Œå°±ç›´æ¥æ”¾è¿›å»
4. å¦‚æœå†²çªï¼ˆå·²æœ‰å…ƒç´ ï¼‰ï¼š
    + å¦‚æœæ˜¯ç›¸åŒ keyï¼Œåˆ™è¦†ç›–æ—§å€¼ï¼ˆé€šè¿‡ equals() åˆ¤æ–­ï¼‰
    + å¦‚æœä¸æ˜¯ï¼Œåˆ™ä»¥é“¾è¡¨æˆ–çº¢é»‘æ ‘çš„å½¢å¼æŒ‚åœ¨è¯¥ä½ç½®

âš™ï¸ ä¸ºä»€ä¹ˆç”¨é“¾è¡¨ + çº¢é»‘æ ‘ï¼Ÿ
JDK 1.8 åšäº†ä¼˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ 8 ä¸”æ•°ç»„é•¿åº¦è¶…è¿‡ 64 æ—¶ï¼Œé“¾è¡¨ä¼šè½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œé¿å…é“¾è¡¨è¿‡é•¿å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼ˆO(n) â†’ O(log n)ï¼‰

ğŸ§ª ä¸ƒã€å“ˆå¸Œå†²çªä¸ key çš„è§„åˆ™
â— key çš„æ¡ä»¶ï¼š
+ å¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡
+ å¿…é¡»é‡å†™ hashCode() å’Œ equals()
    + hashCode() ç”¨äºå®šä½æ•°ç»„æ¡¶
    + equals() ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºâ€œåŒä¸€ä¸ª key

ğŸ§® å…«ã€æ‰©å®¹æœºåˆ¶
+ é»˜è®¤åˆå§‹å¤§å°æ˜¯ 16
+ è´Ÿè½½å› å­æ˜¯ 0.75
+ å½“å®é™…å…ƒç´ æ•° > 16 * 0.75ï¼ˆå³ 12ï¼‰æ—¶ï¼Œè§¦å‘æ‰©å®¹ï¼ˆæ–°å®¹é‡æ˜¯åŸæ¥çš„ 2 å€ï¼‰
+ æ‰©å®¹ä»£ä»·æ¯”è¾ƒé«˜ï¼šéœ€è¦é‡æ–°è®¡ç®—æ‰€æœ‰ key çš„ä½ç½®ï¼Œæ‰€ä»¥è¦å°½é‡é¿å…é¢‘ç¹æ‰©å®¹ã€‚

ğŸ” ä¹ã€çº¿ç¨‹å®‰å…¨é—®é¢˜
+ HashMap æ˜¯ éçº¿ç¨‹å®‰å…¨çš„
+ å¤šçº¿ç¨‹å¹¶å‘å†™å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€æ­»å¾ªç¯
+ âœ… å¯ç”¨æ›¿ä»£æ–¹æ¡ˆï¼š
    + ConcurrentHashMapï¼ˆé«˜æ€§èƒ½å¹¶å‘ï¼‰
    + Collections.synchronizedMap()ï¼ˆä½å¹¶å‘ä¸‹å¯ç”¨ï¼‰

ğŸ” åã€ä¸å…¶ä»– Map å¯¹æ¯”

ç±» | æœ‰åºï¼Ÿ | æ’åºï¼Ÿ | çº¿ç¨‹å®‰å…¨ï¼Ÿ | é€‚ç”¨åœºæ™¯
HashMap | âŒ æ— åº | âŒ | âŒ | é€šç”¨æœ€å¿«çš„ key-value æ˜ å°„ç»“æ„
LinkedHashMap | âœ… æŒ‰æ’å…¥é¡ºåº | âŒ | âŒ | è¦ä¿ç•™æ’å…¥é¡ºåº
TreeMap | âœ… æŒ‰ key æ’åº | âœ… | âŒ | éœ€è¦æ’åºçš„åœºæ™¯
ConcurrentHashMap | âŒ | âŒ | âœ… | é«˜å¹¶å‘è¯»å†™åœºæ™¯

## 3. LinkedHashMap

LinkedHashMap æ˜¯ HashMap çš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒç»“åˆäº† å“ˆå¸Œè¡¨ å’Œ åŒå‘é“¾è¡¨ çš„ç‰¹æ€§ï¼Œåœ¨ä¿ç•™äº†å“ˆå¸Œè¡¨æŸ¥æ‰¾æ•ˆç‡çš„åŒæ—¶ï¼Œè¿˜ç»´æŠ¤äº†å…ƒç´ çš„æ’å…¥é¡ºåºæˆ–è€…è®¿é—®é¡ºåºã€‚

ğŸ§  ä¸€ã€LinkedHashMap æ˜¯ä»€ä¹ˆï¼Ÿ

LinkedHashMap<K, V> æ˜¯ HashMap çš„å­ç±»ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼Œå¹¶ä¸”å¯ä»¥ä¿æŒå…ƒç´ çš„é¡ºåºã€‚

å®ƒçš„åº•å±‚ç»“æ„æ˜¯ï¼š**æ•°ç»„ + é“¾è¡¨ï¼ˆå“ˆå¸Œå†²çªï¼‰ + åŒå‘é“¾è¡¨ï¼ˆç»´æŠ¤é¡ºåºï¼‰**

ğŸ§¾ äºŒã€LinkedHashMap çš„é¡ºåºç‰¹æ€§
å®ƒæœ‰ä¸¤ç§é¡ºåºæ¨¡å¼ï¼š

æ¨¡å¼ | æè¿°
æ’å…¥é¡ºåºï¼ˆé»˜è®¤ï¼‰ | å…ƒç´ æŒ‰æ’å…¥çš„å…ˆåé¡ºåºæ’åˆ—
è®¿é—®é¡ºåº | æ¯æ¬¡è®¿é—®ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒå°±ä¼šè¢«ç§»åŠ¨åˆ°é“¾è¡¨æœ«å°¾ï¼ˆå¯ä»¥ç”¨äº LRU ç¼“å­˜ï¼‰


```java
// é»˜è®¤ï¼šæ’å…¥é¡ºåº
LinkedHashMap<String, Integer> map = new LinkedHashMap<>();

// æŒ‡å®šä¸ºè®¿é—®é¡ºåºï¼ˆtrueï¼‰
LinkedHashMap<String, Integer> accessMap = new LinkedHashMap<>(16, 0.75f, true);

```

âœ… ä¸‰ã€LinkedHashMap çš„ç‰¹ç‚¹æ€»ç»“

ç‰¹æ€§ | è¯´æ˜
æœ‰åº | é»˜è®¤æ˜¯æ’å…¥é¡ºåºï¼Œä¹Ÿå¯è®¾ä¸ºè®¿é—®é¡ºåº
æŸ¥æ‰¾æ•ˆç‡ | å’Œ HashMap ä¸€æ ·ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦
å…è®¸ null | key å’Œ value éƒ½å…è®¸ä¸º nullï¼ˆå’Œ HashMap ä¸€æ ·ï¼‰
çº¿ç¨‹ä¸å®‰å…¨ | å¤šçº¿ç¨‹ä¸‹éœ€ä½¿ç”¨ Collections.synchronizedMap æˆ– ConcurrentHashMap
ç”¨é€” | å¸¸ç”¨äºéœ€è¦è®°å½•å…ƒç´ é¡ºåºï¼Œæˆ–å®ç° LRU ç¼“å­˜

ğŸ’¡ å››ã€ç¤ºä¾‹ä»£ç 

è®¿é—®é¡ºåºç¤ºä¾‹ï¼ˆå®ç° LRU ç¼“å­˜åŸºç¡€ï¼‰
```java
LinkedHashMap<String, String> lruMap = new LinkedHashMap<>(16, 0.75f, true);

lruMap.put("A", "Apple");
lruMap.put("B", "Banana");
lruMap.put("C", "Cat");

lruMap.get("A"); // è®¿é—®äº† Aï¼Œå®ƒç°åœ¨ä¼šæ’åœ¨æœ€å

System.out.println(lruMap.keySet());
// è¾“å‡ºé¡ºåºä¸ºï¼šB â†’ C â†’ A
```

ğŸ§° äº”ã€è‡ªå®šä¹‰åˆ é™¤ç­–ç•¥ï¼šå®ç° LRU ç¼“å­˜
LinkedHashMap æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥é‡å†™æ¥è‡ªå®šä¹‰â€œç§»é™¤æœ€è€å…ƒç´ â€çš„é€»è¾‘ï¼š

```java
@Override
protected boolean removeEldestEntry(Map.Entry<K,V> eldest) {
    return size() > æœ€å¤§ç¼“å­˜æ•°;
}
```

ä¸¾ä¸ªä¾‹å­ï¼š
```java
class LRUCache<K, V> extends LinkedHashMap<K, V> {
    private int capacity;

    public LRUCache(int capacity) {
        super(capacity, 0.75f, true); // è®¿é—®é¡ºåº
        this.capacity = capacity;
    }

    @Override
    protected boolean removeEldestEntry(Map.Entry<K, V> eldest) {
        return size() > capacity; // è¶…å‡ºå®¹é‡å°±ç§»é™¤æœ€æ—§çš„
    }
}

```

ğŸ§ª ä¸ƒã€é€‚åˆä½¿ç”¨ LinkedHashMap çš„åœºæ™¯

+ éœ€è¦ä¿æŒæ•°æ®çš„æ’å…¥é¡ºåºï¼ˆæ¯”å¦‚æ‰“å°æ—¶é¡ºåºä¸ä¹±ï¼‰
+ éœ€è¦å®ç° LRU ç¼“å­˜åŠŸèƒ½
+ æ—¥å¿—è®°å½•ã€è®¿é—®å†å²è¿½è¸ª
+ æ•°æ®åŠ è½½é¡ºåºä¸€è‡´æ€§è¦æ±‚

## 4. TreeMap

TreeMap<K, V> æ˜¯åŸºäº çº¢é»‘æ ‘ï¼ˆRed-Black Treeï¼‰ å®ç°çš„ Mapã€‚å®ƒèƒ½å¤Ÿæ ¹æ®é”®ï¼ˆkeyï¼‰è‡ªåŠ¨æŒ‰é¡ºåºï¼ˆè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åºï¼‰è¿›è¡Œæ’åºã€‚

ğŸ“¦ äºŒã€ä¸»è¦ç‰¹ç‚¹

ç‰¹æ€§ | æè¿°
æœ‰åº | æŒ‰ key çš„ è‡ªç„¶é¡ºåº æˆ–æä¾›çš„ Comparator é¡ºåº æ’åº
ä¸å…è®¸ null key | ä¼šæŠ›å‡º NullPointerException
å…è®¸ null value | âœ…
æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ | æ—¶é—´å¤æ‚åº¦æ˜¯ O(log n)
çº¿ç¨‹ä¸å®‰å…¨ | å¤šçº¿ç¨‹ä½¿ç”¨éœ€æ‰‹åŠ¨åŠ é”æˆ–ä½¿ç”¨ Collections.synchronizedSortedMap

ğŸ” ä¸‰ã€åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹

```java
import java.util.*;

public class TreeMapExample {
    public static void main(String[] args) {
        TreeMap<Integer, String> map = new TreeMap<>();

        map.put(3, "three");
        map.put(1, "one");
        map.put(2, "two");

        System.out.println(map); // è¾“å‡ºï¼š{1=one, 2=two, 3=three}

        System.out.println("First key: " + map.firstKey());  // 1
        System.out.println("Last key: " + map.lastKey());    // 3

        // éå†
        for (Map.Entry<Integer, String> entry : map.entrySet()) {
            System.out.println(entry.getKey() + " => " + entry.getValue());
        }
    }
}
```

âš™ï¸ å››ã€ä½¿ç”¨è‡ªå®šä¹‰æ’åºï¼ˆComparatorï¼‰

```java
TreeMap<String, Integer> customMap = new TreeMap<>(new Comparator<String>() {
    public int compare(String s1, String s2) {
        return s2.compareTo(s1); // é™åºæ’åº
    }
});
customMap.put("apple", 1);
customMap.put("banana", 2);
customMap.put("orange", 3);

System.out.println(customMap); // è¾“å‡ºï¼š{orange=3, banana=2, apple=1}

```

ğŸ¯ äº”ã€å¸¸ç”¨æ–¹æ³•

æ–¹æ³• | æè¿°
firstKey() | è¿”å›æœ€å°çš„ key
lastKey() | è¿”å›æœ€å¤§çš„ key
ceilingKey(k) | è¿”å› â‰¥ k çš„æœ€å° key
floorKey(k) | è¿”å› â‰¤ k çš„æœ€å¤§ key
higherKey(k) | è¿”å› > k çš„æœ€å° key
lowerKey(k) | è¿”å› < k çš„æœ€å¤§ key
subMap(from, to) | è·å–å­æ˜ å°„
descendingMap() | è¿”å›é€†åºè§†å›¾


ğŸ“Š å…­ã€TreeMap ä¸ HashMapã€LinkedHashMap åŒºåˆ«

ç‰¹æ€§ | HashMap | LinkedHashMap | TreeMap
é¡ºåº | æ— åº | æ’å…¥é¡ºåº / è®¿é—®é¡ºåº | key æœ‰åº
åº•å±‚ç»“æ„ | æ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘ | HashMap + åŒå‘é“¾è¡¨ | çº¢é»‘æ ‘
æŸ¥æ‰¾æ•ˆç‡ | O(1) | O(1) | O(log n)
é€‚ç”¨åœºæ™¯ | å¿«é€Ÿè®¿é—® | é¡ºåºæ•æ„Ÿè®¿é—® | éœ€è¦æœ‰åºè®¿é—®

ğŸ“Œ ä¸ƒã€å¸¸è§åº”ç”¨åœºæ™¯
æ•°æ®éœ€è¦æŒ‰ key æ’åºè¾“å‡ºï¼ˆæ¯”å¦‚ï¼šæ—¶é—´è½´ã€æ’è¡Œæ¦œï¼‰

å®ç°èŒƒå›´æŸ¥è¯¢ï¼ˆsubMap / headMap / tailMapï¼‰

å®ç°æœ‰åºçš„ç¼“å­˜æˆ–æ—¥å¿—ç®¡ç†ç³»ç»Ÿ

LRU ç¼“å­˜çš„æŒ‰æ—¶é—´æ¸…é™¤ç­–ç•¥


ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š
TreeMap æ˜¯ä¸€ä¸ªæœ‰åºçš„ Mapï¼Œå®ƒçš„ key ä¼šè‡ªåŠ¨æ’åºï¼ˆåŸºäºçº¢é»‘æ ‘ï¼‰ï¼Œé€‚ç”¨äºéœ€è¦èŒƒå›´æŸ¥è¯¢å’Œæ’åºè¾“å‡ºçš„åœºæ™¯ã€‚


