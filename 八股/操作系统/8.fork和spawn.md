# fork和spawn

fork：除了必要的启动资源外，其他变量，包，数据等都继承自父进程，并且是copy-on-write的，也就是共享了父进程的一些内存页，因此启动较快，但是由于大部分都用的父进程数据，所以是不安全的进程

spawn：从头构建一个子进程，父进程的数据等拷贝到子进程空间内，拥有自己的Python解释器，所以需要重新加载一遍父进程的包，因此启动较慢，由于数据都是自己的，安全性较高

## spawn

工作原理
+ 独立创建：spawn 创建一个全新的进程，并从头开始加载指定的程序或脚本。这意味着子进程不会继承父进程的内存状态或其他资源，除了显式传递给它的参数。
+ 清晰分离：因为子进程是一个独立的实体，所以它可以在不同的环境中运行，甚至可以执行不同的二进制文件。

特点
+ 更好的隔离性：子进程与父进程之间没有直接的依赖关系，降低了彼此影响的风险。
+ 更易于控制：可以通过命令行参数等方式精确配置子进程的行为。
+ 适用于多平台：许多现代编程语言和框架提供了抽象层，使得 spawn 可以在不同操作系统上工作，增加了代码的可移植性。

缺点
+ 启动较慢：相比于 fork，spawn 需要更多的初始化工作，如加载新的程序映像、设置环境变量等，因此启动速度较慢。
+ 额外配置：如果希望子进程能够访问父进程的一些资源（如打开的文件描述符），则需要额外处理来传递这些信息。



