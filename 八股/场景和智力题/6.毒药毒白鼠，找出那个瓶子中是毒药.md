>有1000个一模一样的瓶子，其中有999瓶是普通的水，有1瓶是毒药。任何喝下毒药的生命都会在一星期之后死亡。现在你只有10只小白鼠和1个星期的时间，如何检验出哪个瓶子有毒药？

根据2^10=1024，所以10个老鼠可以确定1000个瓶子具体哪个瓶子有毒。具体实现跟3个老鼠确定8个瓶子原理一样。

000=0
001=1
010=2
011=3
100=4
101=5
110=6
111=7

一位表示一个老鼠，0-7表示8个瓶子。也就是分别将1、3、5、7号瓶子的药混起来给老鼠1吃，2、3、6、7号瓶子的药混起来给老鼠2吃，4、5、6、7号瓶子的药混起来给老鼠3吃，哪个老鼠死了，相应的位标为1。如老鼠1死了、老鼠2没死、老鼠3死了，那么就是101=5号瓶子有毒。同样道理10个老鼠可以确定1000个瓶子



```cpp
#include <iostream>
#include <vector>

// 模拟小白鼠喝药和判断毒药瓶的过程
int findPoisonedBottle() {
    const int numBottles = 1000;
    const int numMice = 10;

    // 初始化 10 只小白鼠的生死状态，0 表示存活，1 表示死亡
    std::vector<int> mice(numMice, 0);

    // 遍历每个瓶子
    for (int bottle = 0; bottle < numBottles; ++bottle) {
        // 模拟这瓶水是否有毒，假设第 333 号瓶有毒（可随意修改）
        bool isPoisoned = (bottle == 333); 

        // 将瓶子编号转换为二进制
        for (int bit = 0; bit < numMice; ++bit) {
            if ((bottle & (1 << bit)) != 0) {
                // 如果当前位为 1，且这瓶水有毒，标记对应小白鼠死亡
                if (isPoisoned) {
                    mice[bit] = 1;
                }
            }
        }
    }

    // 根据小白鼠的死亡状态确定毒药瓶的编号
    int poisonedBottle = 0;
    for (int bit = 0; bit < numMice; ++bit) {
        if (mice[bit] == 1) {
            poisonedBottle |= (1 << bit);
        }
    }

    return poisonedBottle;
}

int main() {
    int poisonedBottle = findPoisonedBottle();
    std::cout << "有毒的瓶子编号是: " << poisonedBottle << std::endl;
    return 0;
}
```


> 有1000个一模一样的瓶子，其中有999瓶是普通的水，有1瓶是毒药。任何喝下毒药的生物都会在一星期之后死亡。
如果你有两个星期的时间，为了从 1000 个瓶子中找出毒药，你最少需要几只老鼠？
注意，在第一轮实验中死掉的老鼠，就无法继续参与第二次实验了。


思路分析
+ 由于有两个星期的时间，每只老鼠在实验结束后有三种状态：在第一周死亡、在第二周死亡、始终存活。这就类似于三进制中的三个数字 0、1、2。
+ 我们要通过三进制编码来表示 1000 个瓶子，从而确定最少需要几只老鼠。

具体推理
1. 三进制编码的位数与可表示的数量关系
+ 对于 n 位三进制数，它能表示的不同状态数量为 3^n 种。
+ 我们需要找到最小的 n，使得 3^n>1000。

2. 所以，最少需要 7 只老鼠就能从 1000 个瓶子中找出毒药。

实验操作方法
+ 给瓶子和老鼠编号
    + 将 1000 个瓶子从 0 到 999 编号。
    + 把 7 只老鼠依次编号为 1 到 7。
+ 第一轮实验
    + 把每个瓶子的编号转换为 7 位三进制数。如果三进制数的某一位是 1，就给对应编号的老鼠喂这瓶水。
    + 一周后观察老鼠的死亡情况。
+ 第二轮实验
    + 对于第一轮中存活的老鼠，如果某个瓶子的三进制编号对应位是 2，就给这只老鼠喂该瓶子的水。
    + 再经过一周，观察这些老鼠的死亡情况。
+ 确定毒药瓶编号
    + 根据老鼠的死亡情况来确定毒药瓶的三进制编号。
    + 例如，如果第 1 只老鼠在第一周死亡，第 3 只老鼠在第二周死亡，其他老鼠存活，那么对应的三进制编号就是 1020000，将其转换为十进制就是毒药瓶的编号。

综上，最少需要 7 只老鼠，通过两轮实验，利用三进制编码的方式可以从 1000 个瓶子中找出毒药。



