# 1. 套接字类型

创建套接字：
```cpp
#include<sys/socket.h>
int socket(int domain, int type, int protocol);
```
domain: 套接字中使用的协议族
type：套接字数据传输类型信息
protocol:计算机通信中使用的协议信息

套接字中实际采用的最终协议信息是通过socket函数的第三个参数传递到。
在指定的协议族范围内通过第一个参数决定第三个参数；

协议族:
  套接字通信中的协议有一些分类，比如：PE_INET:IPv4互联网协议族,PF_INET6：IPv6互联网协议族
  IPv4与网络地址系统相关

套接字类型：type
  指的是套接字的树蕨传输方式，通过第二个参数传递，只有这样才能决定创建的套接字的数据传输方式。
  因为，第一个参数PE_INE协议族中也存在着多种数据传输方式。

  1. 面向连接套接字 SOCK_STREAM
    特点：
      传输过程中数据不会消失；
      按序传输数据；较晚传递的数据，不会先到达
      传输的数据不存在数据边界；接受数据的次数和数据传递的次数不一定相同，这是因为收发数据的套接字内部有buffer，收到数据并不意味着马上调用read读取。只要不超过数组容量，则有可能在数据填充满缓冲后通过1次read函数调用读取全部，也有可能多次read函数调用进行读取。
  2. 面向消息的套接字 SOCK_DGRAM
    特点：
      强调快速传输而非传输顺序
      传输的数据可能丢失也可能损坏
      传输的数据有数据边界；意味着接收数据的次数应和传输次数相同
      限制每次传输的数据大小
协议的最终选择
  决定最终采取的协议。传递前两个参数即可创建所需的套接字，所以大部分情况第三个参数为0.除非：同一个协议族中存在多个数据传输方式相同的协议。
    
# 2. 习题

1. 什么是协议？在收发数据中定义协议有何意义？
   协议是一组规则和标准，用于确保不同系统、设备或应用程序之间可以理解并正确处理彼此发送的数据。
   协议定义了通信的具体规则，包括数据的格式、传输顺序、错误检测与修正、流量控制等。
   数据格式化：在发送数据时，协议规定数据如何封装，例如在 TCP/IP 协议中，数据被封装成数据包（Packets）或段（Segments）。
   数据传输：协议定义了数据如何在网络中传输。例如，HTTP 协议用于 Web 页面请求和响应，SMTP 协议用于电子邮件的发送。
   错误处理：协议中包含错误检测和重传机制。例如，TCP 协议会在发现数据包丢失时重新发送。


2. 面向连接的TCP套接字传输特性有3点，分别说明
   1. 可靠性：数据传输的可靠性：TCP 协议通过一系列机制确保数据在网络中可靠地传输。它使用确认（ACK）和重传机制来确保数据包在接收方成功到达。
   确认机制：发送方在发送数据包后，会等待接收方的确认消息。如果发送方没有收到确认，TCP 会重新发送数据包，直到收到确认或者达到重试次数限制。
   数据完整性：TCP 使用校验和（Checksum）来检测数据传输过程中是否发生了损坏。如果数据包损坏，接收方会丢弃该数据包并请求重新发送。
   2. 顺序性（Orderliness）：数据的顺序：TCP 确保数据包按照发送的顺序到达接收方。即使数据包在网络中出现乱序，TCP 也会对数据包进行排序，确保数据在接收方应用程序中按照发送顺序进行处理。序列号（Sequence Number）：每个数据包都有一个序列号，接收方根据序列号重组数据流，确保数据的顺序一致。
   3. 流量控制（Flow Control）：控制数据流量：TCP 使用流量控制机制来调节发送方和接收方之间的数据传输速率。流量控制确保发送方不会以超过接收方处理能力的速度发送数据。滑动窗口（Sliding Window）：TCP 使用滑动窗口机制来实现流量控制。接收方为每个接收窗口分配缓冲区空间，发送方根据接收方的窗口大小调整发送的数据量。


3. 下列数据适合用那类套接字传输？并给出原因
   1. 演唱会现场直播的多媒体数据
   UDP：实时性：现场直播的多媒体数据（如音视频流）对实时性要求很高。UDP 是无连接的协议，能够提供较低的延迟，因为它不需要建立连接，也不进行数据包确认。
   容忍丢包：在实时视频流中，一些数据包的丢失不会显著影响整体体验，UDP 可以容忍丢包并继续传输。UDP 没有重传机制，适合传输对丢包容忍的应用数据。
   开销低：UDP 的协议开销比 TCP 小，因此可以减少延迟，提供更流畅的实时体验。
   2. 某人压缩过的文本文件
   TCP：
   可靠性：TCP 是面向连接的协议，确保数据的可靠传输。对于压缩文本文件，数据的完整性和顺序很重要，TCP 能保证文件在传输过程中不丢失、不重复、不乱序。
   顺序性：TCP 确保数据包按发送顺序到达接收方，这对于完整的文件传输非常重要，避免了文件内容被错误地重新排序。
   错误检测与重传：TCP 提供错误检测和重传机制，确保文件的每一部分都正确到达接收方。
   3. 网上银行用户与银行之间的数据传递
   安全性：网上银行的数据传递涉及敏感信息，如账户信息和交易数据，必须保证数据的完整性和保密性。TCP 的可靠性和错误处理机制对于确保数据的准确性和安全性至关重要。
   可靠性：TCP 确保数据可靠传输，不丢失、不重复、不乱序，这对于确保交易数据的准确性和安全性非常关键。
   连接管理：TCP 提供的连接管理和流量控制功能可以确保稳定的数据传输，这对于需要进行实时交易和交互的应用非常重要。
4. 何种类型的套接字不存在数据边界？这类套接字接受数据时应注意什么？
  TCp：接收数据时需要处理数据的分段和合并问题，通常通过在应用层实现协议来标识消息边界。




